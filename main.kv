<ContentNavigationDrawer>:
    ScrollView:

        MDList:

            OneLineListItem:
                text: 'Tela Principal'
                on_press:
                    root.nav_drawer.set_state("close")
                    root.screen_manager.current = "principal"

            OneLineListItem:
                text: "Pesquisar"
                on_press:
                    root.nav_drawer.set_state("close")
                    root.screen_manager.current = "pesquisar"

            OneLineListItem:
                text: "Script SAP"
                on_press:
                    root.nav_drawer.set_state("close")
                    root.screen_manager.current = "script"

            OneLineListItem:
                text: "Relatório"
                on_press:
                    root.nav_drawer.set_state("close")
                    root.screen_manager.current = "relatorio"

            OneLineListItem:
                text: "Lista"
                on_press:
                    root.nav_drawer.set_state("close")
                    root.screen_manager.current = "lista"

Screen:
    name: 'tela1'

    MDTopAppBar:
        id: toolbar
        pos_hint: {"top": 1}
        elevation: 10
        title: "Inventário"
        left_action_items: [["menu", lambda x: nav_drawer.set_state("open")]]



    MDNavigationLayout:
        x: toolbar.height

        ScreenManager:
            id: screen_manager

            TelaPesquisa:
                name: "pesquisar"

            Principal:
                name: "principal"

            ScriptSap:
                name: 'script'

            Relatorio:
                name: 'relatorio'

            Lista:
                name: 'lista'

        MDNavigationDrawer:
            id: nav_drawer

            ContentNavigationDrawer:
                screen_manager: screen_manager
                nav_drawer: nav_drawer


<Image>
    source: 'imagem2.jpg'
    allow_stretch: True
    keep_ratio: False

<Principal>:
    on_enter:
        root.inserir()

    Image:
        size_hint: (1, .915)

    MDRectangleFlatButton:
        size_hint: .80, .68
        pos_hint: {'x': .1, 'y': .2}
        text_color: (36/255,100/255,203/255,1)
        #line_color: 1, 1, 1, 1
        md_bg_color: 1, 1, 1, 1
        ripple_scale: 0

    MDRectangleFlatButton:
        size_hint: .40, .1
        text: 'Gravar'
        font_size: '20dp'
        pos_hint: {'x': .3, 'y': .25}
        text_color: 1, 1, 1, 1
        line_color: 1, 1, 1, 1
        md_bg_color: (33/255,150/255,243/255,1)
        on_press:
            root.gravar()

    MDSwiper:
        id: swiper
        size_hint_y: None
        height: root.height
        width: root.width

        MDSwiperItem:

<Lista>:
    on_enter:
        root.listagem_imobs()

    FloatLayout:
        size_hint: (1, .915)

        Image:

        MDRectangleFlatButton:
            size_hint: .40, .1
            text: 'Editar'
            font_size: '20dp'
            pos_hint: {'x': .3, 'y': .05}
            text_color: 1, 1, 1, 1
            line_color: 1, 1, 1, 1
            md_bg_color: (33/255,150/255,243/255,1)
            on_press:
                root.pegar_check()



<TelaPesquisa>:

    FloatLayout:
        size_hint: (1, .915)

        Image:

        MDRectangleFlatButton:
            size_hint: .80, .8
            pos_hint: {'x': .1, 'y': .15}
            text_color: (36/255,100/255,203/255,1)
            #line_color: 1, 1, 1, 1
            md_bg_color: 1, 1, 1, 1
            ripple_scale: 0

        MDTextField:
            id: descricao
            mode: 'rectangle'
            line_color_focus: 0, 0, 1, 1
            font_size: '20dp'
            hint_text: 'Descrição'
            pos_hint: {'x': .3, 'y': .82}
            size_hint: .4, .1
            write_tab: False

        MDTextField:
            mode: 'rectangle'
            font_size: '20dp'
            line_color_focus: 0, 0, 1, 1
            fill_color: 0, 1, 0, 1
            foreground_color: 1, 0, 1, 1
            hint_text: 'Nº Imobilizado'
            pos_hint: {'x': .3, 'y': .7075}
            size_hint: .4, .1
            write_tab: False

        MDTextField:
            id: classe
            text: 'IES-20'
            mode: 'rectangle'
            line_color_focus: 0, 0, 1, 1
            font_size: '20dp'
            hint_text: 'Classe'
            pos_hint: {'x': .3, 'y': .5950}
            size_hint: .4, .1
            write_tab: False

        MDTextField:
            id: num_invent
            mode: 'rectangle'
            line_color_focus: 0, 0, 1, 1
            font_size: '20dp'
            hint_text: 'Nº Inventário'
            pos_hint: {'x': .3, 'y': .4825}
            size_hint: .4, .1
            write_tab: False

        MDRectangleFlatButton:
            id: data_ini
            text: 'Intervalo Datas'
            font_size: '20dp'
            pos_hint: {'x': .35, 'y': .35}
            size_hint: .3, .08
            text_color: (33/255,150/255,243/255,1)
            line_color: (33/255,150/255,243/255,1)
            md_bg_color: 1,1,1,1
            on_press:
                root.show_date_picker()


        MDRectangleFlatButton:
            size_hint: .40, .1
            text: 'Pesquisar'
            font_size: '20dp'
            pos_hint: {'x': .3, 'y': .2}
            text_color: 1,1,1,1
            line_color: (33/255,150/255,243/255,1)
            md_bg_color: (33/255,150/255,243/255,1)
            on_press:
                root.buscar()

<ScriptSap>:

    FloatLayout:
        size_hint: (1, .915)

        Image:

        MDRectangleFlatButton:
            size_hint: .80, .75
            pos_hint: {'x': .1, 'y': .2}
            text_color: (36/255,100/255,203/255,1)
            #line_color: 1, 1, 1, 1
            md_bg_color: 1, 1, 1, 1
            ripple_scale: 0

        MDLabel:
            text: 'Selecione o intervalo \npara Exportação'
            font_size: '26dp'
            halign: 'center'
            pos_hint: {'x': .2, 'y': .75}
            size_hint: .6, .1

        MDTextField:
            id: data_mod_ini
            text: '26/05/2022'
            mode: 'rectangle'
            hint_text: 'Data Inicial'
            pos_hint: {'x': .2, 'y': .55}
            size_hint: .24, .1
            write_tab: False

        MDTextField:
            id: data_mod_fim
            text: '03/06/2022'
            mode: 'rectangle'
            hint_text: 'Data Final'
            pos_hint: {'x': .56, 'y': .55}
            size_hint: .24, .1
            write_tab: False

        MDTextField:
            id: caminho
            mode: 'rectangle'
            hint_text: 'Path'
            text: '/sdcard'
            pos_hint: {'x': .2, 'y': .4}
            size_hint: .6, .1
            write_tab: False

        MDRectangleFlatButton:
            size_hint: .40, .1
            text: 'Gerar Script'
            font_size: '20dp'
            pos_hint: {'x': .3, 'y': .25}
            text_color: 1, 1, 1, 1
            line_color: 1, 1, 1, 1
            md_bg_color: (33/255,150/255,243/255,1)
            on_press:
                root.gerar_script()

<Relatorio>:

    FloatLayout:
        size_hint: (1, .915)

        Image:

        MDRectangleFlatButton:
            size_hint: .80, .45
            pos_hint: {'x': .1, 'y': .4}
            text_color: (36/255,100/255,203/255,1)
            #line_color: 1, 1, 1, 1
            md_bg_color: 1, 1, 1, 1
            ripple_scale: 0

        MDTextField:
            id: caminho_rel
            text: '/sdcard'
            mode: 'rectangle'
            line_color_focus: 0, 0, 1, 1
            font_size: '20dp'
            hint_text: 'Caminho da pasta'
            pos_hint: {'x': .3, 'y': .65}
            size_hint: .4, .1
            write_tab: False

        MDRectangleFlatButton:
            size_hint: (.40, .10)
            text: 'Gerar Relatório'
            font_size: '20dp'
            pos_hint: {'x': .30, 'y': .45}
            text_color: 1, 1, 1, 1
            line_color: 1, 1, 1, 1
            md_bg_color: (33/255,150/255,243/255,1)
            on_press:
                root.gerar_relatorio()